# Multimodal-Security
## 프로젝트 개요
본 프로젝트는 정적인 생체 인증을 넘어, 동적인 다중 모달(Multimodal) 검증을 통해 보안을 강화하는 미니 프로젝트입니다.

사용자는 로그인 시 GPT-4o-mini가 생성한 랜덤 지시문(특정 행동 + 특정 발화)를 수행해야 합니다 예시) 고개를 흔드며 + 상큼한 레몬이라고 말하기
시스템은 사용자가 (1) 등록된 본인이 맞는지 (신원 인증) (2) 지시된 행동과 발화를 정확히 수행하는지 (동적 검증)을 다중 모달 AI 통해 종합적으로 판단하여 로그인을 승인합니다.
## 개발 환경
- 백엔드 서버: API 요청 처리를 위해 Google Colab 환경에서 ngrok를 사용하여 외부 접근이 가능한 임시 서버를 구축했습니다.
- 데이터 처리: 클라이언트로부터 영상을 전송받은 후, 서버에서 AI 모델 입력에 맞게 프레임/오디오를 추출하는 전처리 과정을 수행했습니다.
## 사용 모델
- 지시문 생성 : gpt-4o-mini
- 얼굴 인증: Deepface
- 목소리 인증: SpeechBrain
- 행동 검증: VideoMAE (Kinetics-400)
- 발화 검증: Whisper

## 아키텍처 및 실행 로직
<img width="761" height="650" alt="제목 없는 다이어그램 drawio" src="https://github.com/user-attachments/assets/3a0b3eb8-036b-42f5-ac72-1daaf508d9cb" />

### 단계별 실행 로직
1. 지시문 생성 및 수행
- 사용자가 로그인을 요청하면, gpt-4o-mini가 수행해야 할 행동 지시문과 발화 지시문을 랜덤으로 생성합니다.
- 사용자는 이 지시문을 수행하는 영상을 프론트엔드에서 촬영하여 백엔드 AI 서버로 전송합니다.
2. 신원 인증(얼굴 + 목소리)
- 서버는 전송된 영상에서 단일 이미지 프레임과 오디오를 추출합니다.
- Deepface (얼굴)와 SpeechBrain (목소리)을 사용해 임베딩을 추출하고, 기등록된 사용자의 임베딩 평균값과 코사인 유사도를 계산합니다.
- 계산된 최대 유사도 값이 임계값 (0.6) 이상일 경우 신원 인증에 성공한 것으로 간주하고 다음 단계로 진행합니다.
3. 행동 검증
- VideoMAE가 영상에서 사용자의 행동을 분석합니다. (Kinetics-400의 400가지 분류 기준)
- 분류 결과 중 Top-5를 추출하여, 이 Top-5와 원본 행동 지시문 간의 유사도를 각각 계산합니다.
- 계산된 유사도 중 최대값이 설정된 임계값 이상일 경우 행동 검증에 성공한 것으로 간주합니다
4. 발화 검증
- Whisper가 영상의 음성에서 발화 내용을 텍스트로 추출(transcribe)합니다.
- 추출된 텍스트와 원본 발화 지시문 간의 유사도를 계산합니다.
- 유사도 값이 임계값 이상일 경우 발화 검증에 성공한 것으로 간주합니다.

#### 최종적으로 1,2,3 단계가 모두 True를 반환할 시 로그인이 승인됩니다.
## 실행 결과(1단계)
실행 결과 : F=얼굴 코사인 유사도 , V= 목소리 코사인 유사도
A 님: F=0.663, V=0.052, Total=0.357
B 님: F=0.638, V=0.287, Total=0.462
C 님: F=0.840, V=0.038, Total=0.439

## 한계점
1. 신원 인증 데이터 부족: 회원 정보가 얼굴 사진 20개, 음성 10개의 임베딩 평균값으로 구성되었습니다. 이처럼 데이터 표본이 적어, 실제 회원이 로그인을 시도함에도 불구하고 목소리 유사도(V)가 0.052, 0.038 등으로 매우 낮게 측정되었습니다. 이로 인해 신원 인증 임계값을 0.6까지 낮게 설정해야 했습니다.

2. 행동 검증의 한계: VideoMAE 모델이 특정 행동 20가지(예: 웃기, 손가락 튕기기, 박수, 헤드뱅잉 등)에 대해서만 높은 분류 성능을 보였습니다. 따라서 "랜덤 지시문 생성"이라는 초기 목표와 달리, 이 20가지 행동 내에서만 지시문을 생성해야 하는 한계가 발생했습니다.

3. 검증 환경의 한계: 전체 회원이 스터디 인원 3명뿐이어서, 동적 로그인 시스템의 견고성과 성능을 통계적으로 검증하기에는 어려움이 있었습니다.

## 브랜치 정보
main: 행동 검증 및 발화 검증 로직이 구현된 메인 브랜치입니다.
feature/step1: 1단계(신원 인증) 백엔드 로직이 구현된 브랜치입니다.
backend: ngrok를 사용한 서버 구축 및 API 연동 관련 코드가 포함된 브랜치입니다
